(this.webpackJsonppyry=this.webpackJsonppyry||[]).push([[0],{282:function(e,t,n){},303:function(e,t){},305:function(e,t){},347:function(e,t){},348:function(e,t){},479:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){},485:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n(1),c=n(70),s=n.n(c),i=n(22),l=(n(282),n(37)),o=n(32),u=n(5),j=n.n(u),d=n(20),b=n(140),h=n(39),O=n.n(h),p="/api/clients",m=null,x=function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:m}},e.next=3,O.a.get("".concat(p,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:m}},e.next=3,O.a.get(p,t);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v={getClient:x,createClient:function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:m}},e.next=3,O.a.post(p,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllClients:f,deleteClient:function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:m}},e.next=3,O.a.delete("".concat(p,"/").concat(t),n);case 3:return a=e.sent,e.abrupt("return",a.status);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){m="bearer ".concat(e)}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_CLIENT":return[].concat(Object(b.a)(e),[t.data]);case"DELETE_CLIENT":return e.filter((function(e){return e.id!==t.data}));case"INIT_CLIENTS":return t.data;default:return e}},k={login:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},N="/api/users",g={getUserInfo:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(N,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateUserInfo:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({updated:t}),e.next=3,O.a.post("".concat(N,"/").concat(t.id));case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){var a,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.login(e);case 2:a=t.sent,r={token:a.token,id:a.id},v.setToken(a.token),window.localStorage.setItem("loggedPyryUser",JSON.stringify(r)),n({type:"SET_USER",data:{user:a,loading:!1}});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:null,loading:!0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return t.data;case"LOGOUT_USER":return{user:null,loading:!0};default:return e}},T=n(136),L=function(e){return function(t){t({type:"SET_ERROR",data:e}),T.timeoutCollection.removeAll(),setTimeout((function(){t({type:"HIDE_ERROR"})}),5e3)}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.data;case"HIDE_ERROR":return null;default:return e}},E="/api/work",I=null,F={getWork:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(E,"/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createWork:function(){var e=Object(d.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:I}},e.next=3,O.a.post(E,t,n);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getAllWork:function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get(E);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setToken:function(e){I="bearer ".concat(e)}},A=n(74),R=n(497),_=function(){var e=Object(i.b)(),t=Object(r.useState)(!0),n=Object(A.a)(t,2),c=n[0],s=n[1],l=Object(i.c)((function(e){return e.error})),o={display:c?"":"none"};if(!l)return null;return Object(a.jsx)(R.a,{style:o,variant:"danger",onClose:function(){return s(!1),void e((function(e){e({type:"HIDE_ERROR"})}))},dismissible:!0,children:Object(a.jsx)("p",{className:"mb-0",children:l})})},P=function(e){return function(t){t({type:"SET_NOTIFICATION",data:e}),T.timeoutCollection.removeAll(),setTimeout((function(){t({type:"HIDE_NOTIFICATION"})}),5e3)}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.data;case"HIDE_NOTIFICATION":return null;default:return e}},U=function(){var e=Object(i.b)(),t=Object(r.useState)(!0),n=Object(A.a)(t,2),c=n[0],s=n[1],l=Object(i.c)((function(e){return e.notification})),o={display:c?"":"none"};if(!l)return null;return Object(a.jsx)(R.a,{style:o,variant:"success",onClose:function(){return s(!1),void e((function(e){e({type:"HIDE_NOTIFICATION"})}))},dismissible:!0,children:Object(a.jsx)("p",{className:"mb-0",children:l})})},K=n(14),W=n(494),G=n(487),z=function(e){var t=Object(r.useState)(""),n=Object(A.a)(t,2),a=n[0],c=n[1];return{type:e,value:a,onChange:function(e){c(e.target.value)},reset:{resetForm:function(e){c("")}}}},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_WORK":return[].concat(Object(b.a)(e),[t.data]);case"INIT_WORK":return t.data;default:return e}},V=function(){var e=z("number"),t=z("number"),n=z("number"),r=z("date"),c=z("text"),s=z("text"),l=Object(i.b)(),o=Object(i.c)((function(e){return e.clients}));return Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)(W.a,{onSubmit:function(a){a.preventDefault();try{l((s={hours:e.value,trip:t.value,purchases:n.value,date:r.value,client:c.value},function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.createWork(s);case 2:n=e.sent,t({type:"NEW_WORK",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),l(P("Lis\xe4tty ty\xf6tiedot p\xe4iv\xe4lle ".concat(r.value)))}catch(i){l(P("Virhe lis\xe4tt\xe4ess\xe4 ty\xf6tietoja: ".concat(i)))}var s},children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{htmlFor:"hours",children:"Ty\xf6tunnit"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},e),{},{id:"hours",placeholder:"0"})),Object(a.jsx)(W.a.Label,{htmlFor:"trip",children:"Ty\xf6matkat"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},t),{},{id:"trip",placeholder:"0"})),Object(a.jsx)(W.a.Label,{htmlFor:"purchases",children:"Hankinnat"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{id:"purchases",placeholder:"0"})),Object(a.jsx)(W.a.Label,{htmlFor:"date",children:"P\xe4iv\xe4m\xe4\xe4r\xe4"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},r),{},{id:"date"})),Object(a.jsx)(W.a.Label,{htmlFor:"date",children:"P\xe4iv\xe4n ty\xf6tiedot"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},s),{},{id:"info"})),Object(a.jsx)(W.a.Label,{htmlFor:"clients",children:"Asiakas"}),Object(a.jsxs)(W.a.Control,Object(K.a)(Object(K.a)({as:"select"},c),{},{id:"clients",children:[Object(a.jsx)("option",{value:null,children:"Valitse asiakas"},"default"),o.map((function(e){return Object(a.jsx)("option",{children:e.name},e.id)}))]})),Object(a.jsx)("div",{className:"row justify-content-end p-3",children:Object(a.jsx)(G.a,{type:"submit",children:"Tallenna"})})]})})})},Y=n(35);Y.b.register({family:"Roboto Condensed",src:"https://fonts.googleapis.com/css2?family=Roboto+Condensed&display=swap"});var J=Y.e.create({page:{display:"flex"},topContainer:{display:"flex",justifyContent:"space-between",borderStyle:"solid",borderColor:"#000000",borderWidth:1},info:{},h1:{},section:{margin:10,padding:10,width:"45%",borderStyle:"solid",borderColor:"#A9A9A9",borderWidth:1},invoice:{margin:10,padding:10,flexGrow:1,borderStyle:"solid",borderColor:"#A9A9A9",borderWidth:1}}),B=function(e){var t=e.user;e.client;return Object(a.jsx)(Y.a,{children:Object(a.jsxs)(Y.d,{size:"A4",style:J.page,children:[Object(a.jsxs)(Y.g,{style:J.topContainer,id:"top-container",children:[Object(a.jsxs)(Y.g,{style:J.section,id:"client-info",children:[Object(a.jsx)(Y.f,{children:"LASKU"}),Object(a.jsx)(Y.f,{children:"client.name"}),Object(a.jsx)(Y.f,{children:"client.address"}),Object(a.jsx)(Y.f,{children:"client.phone"})]}),Object(a.jsxs)(Y.g,{style:J.section,id:"company-info",children:[Object(a.jsx)(Y.f,{children:t.company}),Object(a.jsx)(Y.f,{children:t.address}),Object(a.jsx)(Y.f,{children:t.phone}),Object(a.jsx)(Y.f,{children:t.email})]})]}),Object(a.jsx)(Y.g,{id:"invoice-info",style:J.invoice,children:Object(a.jsx)(Y.f,{children:"T\xe4nne tulee laskun tiedot:     "})})]})})},M=n(488),q=function(){var e=Object(i.c)((function(e){return e.clients})),t=Object(i.c)((function(e){return e.user})),n=z("date"),r=z("date"),c=z("client");return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{children:[Object(a.jsx)(M.a,{size:40})," Lasku"]}),Object(a.jsx)("p",{children:"Luo lasku valitsemalla aikav\xe4li ja asiakas."}),Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)(W.a,{onSubmit:function(t){if(t.preventDefault(),c.value){var a=e.find((function(e){return e.name===c.value}));console.log("chosen ",a),console.log("aloitusp\xe4iv\xe4: ",n),console.log("lopetusp\xe4iv\xe4: ",r)}else console.log("valitse asiakas")},children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{htmlFor:"date",children:"Aikav\xe4li"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{id:"date"})),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},r),{},{className:"mt-2",id:"date"})),Object(a.jsx)(W.a.Label,{htmlFor:"clients",children:"Asiakas"}),Object(a.jsxs)(W.a.Control,Object(K.a)(Object(K.a)({as:"select"},c),{},{children:[Object(a.jsx)("option",{value:null,children:"Valitse asiakas"},"default"),e.map((function(e){return Object(a.jsx)("option",{children:e.name},e.id)}))]})),Object(a.jsx)("div",{className:"row justify-content-end p-4",children:Object(a.jsx)(G.a,{type:"submit",children:"Luo lasku"})})]})})}),Object(a.jsx)("div",{children:Object(a.jsx)(Y.c,{document:Object(a.jsx)(B,{user:t}),fileName:"invoice.pdf",children:function(e){e.blob,e.url;var t=e.loading;return e.error,t?"Rakennetaan laskua...":"Lataa lasku!"}})})]})},Q=(n(479),function(){var e=Object(i.b)(),t=z("password"),n=z("text"),r=function(){var a=Object(d.a)(j.a.mark((function a(r){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:r.preventDefault();try{e(w({username:n.value,password:t.value})),n.reset.resetForm(),t.reset.resetForm(),e(P("Tervetuloa ".concat(n.value)))}catch(r){e(L("K\xe4ytt\xe4j\xe4tunnus tai salasana v\xe4\xe4rin.")),n.reset.resetForm(),t.reset.resetForm()}case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(l.b,{to:"/",href:"#",as:l.b,children:Object(a.jsx)("h1",{children:"Pyry"})}),Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"card p-5",children:[Object(a.jsx)(W.a,{onSubmit:r,children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"username",children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{className:"login-form",id:"username",placeholder:"k\xe4ytt\xe4j\xe4tunnus"})),Object(a.jsx)(W.a.Label,{className:"small mt-2",htmlFor:"password",children:"Salasana"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},t),{},{className:"login-form",id:"password",placeholder:"salasana"})),Object(a.jsx)("div",{className:"row justify-content-end mt-3 px-3 pt-3",children:Object(a.jsx)(G.a,{type:"submit",children:"Kirjaudu"})})]})}),Object(a.jsx)("div",{className:"mb-4 row justify-content-center",children:Object(a.jsxs)("span",{children:["Ei viel\xe4 tunnusta? ",Object(a.jsx)(l.b,{to:"/signup",href:"#",children:" Rekister\xf6idy"})]})})]})})]})}),X=function(e){var t=Object(r.useState)(!1),n=Object(A.a)(t,2),c=n[0],s=n[1],i={display:c?"none":""},l={display:c?"":"none"},o=function(){s(!c)};return Object(a.jsxs)("div",{className:"",children:[Object(a.jsx)("div",{className:"row",style:i,children:Object(a.jsx)(G.a,{onClick:o,children:e.buttonLabel})}),Object(a.jsxs)("div",{className:"row justify-content-around",style:l,children:[e.children,Object(a.jsx)(G.a,{onClick:o,children:"Piilota"})]})]})},Z=function(){var e=z("text"),t=z("text"),n=z("text"),r=z("email"),c=Object(i.b)(),s=Object(i.c)((function(e){return e.clients})),l=Object(i.c)((function(e){return e.work})),o=function(e){var t=s.find((function(t){return t.id===e}));try{window.confirm("Delete ".concat(t.name,"?"))&&c(function(e){return function(){var t=Object(d.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.deleteClient(e);case 2:n({type:"DELETE_CLIENT",data:e});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),c(P("Asiakas ".concat(t.name," poistettu")))}catch(n){c(L("Virhe poistettaessa asiakasta: ".concat(n)))}};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Asiakkaat"}),Object(a.jsx)(W.a,{onSubmit:function(a){a.preventDefault();try{c((s={name:e.value,address:t.value,phone:n.value,email:r.value},function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.createClient(s);case 2:n=e.sent,t({type:"NEW_CLIENT",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(P('Asiakas "'.concat(e.value,'" lis\xe4tty')))}catch(a){c(L("Virhe lis\xe4tt\xe4ess\xe4 asiakasta: ".concat(a)))}finally{e.reset.resetForm(),t.reset.resetForm(),n.reset.resetForm(),r.reset.resetForm()}var s},children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"name",children:"Nimi"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},e),{},{id:"name",placeholder:"Nimi"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"address",children:"Osoite"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},t),{},{id:"address",placeholder:"Osoite"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"phone",children:"Puhelinnumero"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{id:"phone",placeholder:"Puhelinnumero"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"email",children:"S\xe4hk\xf6posti"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},r),{},{id:"email",placeholder:"S\xe4hk\xf6posti"})),Object(a.jsx)("div",{className:"row justify-content-end p-4",children:Object(a.jsx)(G.a,{type:"submit",children:"Tallenna"})})]})}),Object(a.jsx)("div",{id:"clients-container",children:s.map((function(e){return Object(a.jsxs)("div",{className:"p-4",children:[Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:e.name})}),Object(a.jsx)("div",{children:Object(a.jsxs)(X,{buttonLabel:"N\xe4yt\xe4",children:[Object(a.jsxs)("div",{id:"clients wrapper",children:[Object(a.jsxs)("div",{id:"client-info",children:[Object(a.jsxs)("p",{children:["Osoite: ",e.address," "]}),Object(a.jsxs)("p",{children:["Puhelinnumero: ",e.phone]}),Object(a.jsxs)("p",{children:["S\xe4hk\xf6posti: ",e.email]})]}),l.filter((function(t){return t.client===e.id})).map((function(e){return Object(a.jsx)("div",{id:"work-info",children:Object(a.jsxs)("p",{children:[e.date,": ",e.hours," tuntia"]})},e.id)}))]}),Object(a.jsxs)("div",{className:"row justify-content-end p-4",children:[Object(a.jsx)(G.a,{className:"mr-3",onClick:function(){return t=e.id,void l.filter((function(e){return e.client===t}));var t},children:"Laskuta"}),Object(a.jsx)(G.a,{onClick:function(){return o(e.id)},children:"Poista"})]})]})})]},e.id)}))})]})},$=(n(483),function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Mik\xe4 on Pyry?"}),Object(a.jsx)("p",{className:"info-text",children:"Pyry on pienyritt\xe4j\xe4lle suunniteltu laskutuksen ja ty\xf6aikaseurannan apuv\xe4line. Se on suunniteltu helpottamaan kiireisen yritt\xe4j\xe4n arkea. Pyry automatisoi laskutusta ja muita tylsi\xe4, mutta pakollisia teht\xe4vi\xe4, joihin yritt\xe4j\xe4n ei monestikaan tekisi mieli kuluttaa kallista aikaansa eik\xe4 varsinkaan vapaa-aikaansa."}),Object(a.jsx)("h3",{children:"Kuinka k\xe4yt\xe4n sovellusta?"}),Object(a.jsx)("p",{className:"info-text",children:"Sy\xf6t\xe4 ensin omat tietosi asetukset -osion kautta. Sen j\xe4lkeen voit lis\xe4t\xe4 asiakkaan tiedot ja alkaa tallettaa p\xe4ivitt\xe4iset ty\xf6ajat sek\xe4 -kulut valitsemallesi asiakkaalle."}),Object(a.jsxs)("p",{className:"info-text",children:["Pyry on toteutettu Helsingin Yliopiston Fullstack Open -kurssin henkil\xf6kohtaisena harjoitusty\xf6n\xe4. Tekij\xe4 Erkka Karjalainen: ",Object(a.jsx)("a",{href:"mailto:erkka.karjalainen@gmail.com",children:"erkka.karjalainen@gmail.com"})]})]})}),ee=n(496),te=n(495),ne=(n(484),n(489)),ae=n(490),re=n(491),ce=n(492),se=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user}));console.log({user:t});return Object(a.jsx)("div",{className:"menu",children:Object(a.jsxs)(ee.a,{collapseOnSelect:!0,expand:"md",children:[Object(a.jsx)(te.a.Link,{to:"/",href:"#",as:l.b,children:Object(a.jsx)("h1",{children:"Pyry"})}),Object(a.jsx)(ee.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(a.jsx)(ee.a.Collapse,{id:"responsive-navbar-nav",children:Object(a.jsxs)(te.a,{className:"mr-auto",children:[Object(a.jsx)(te.a.Link,{className:"menu-text",to:"/hours",href:"#",as:l.b,children:Object(a.jsxs)("span",{children:[Object(a.jsx)(ne.a,{})," Ty\xf6aika"]})}),Object(a.jsx)(te.a.Link,{className:"menu-text",to:"/clients",href:"#",as:l.b,children:Object(a.jsxs)("span",{children:[Object(a.jsx)(ae.a,{})," Asiakkaat"]})}),Object(a.jsx)(te.a.Link,{className:"menu-text",to:"/invoices",href:"#",as:l.b,children:Object(a.jsxs)("span",{children:[Object(a.jsx)(M.a,{})," Laskut"]})}),Object(a.jsx)(te.a.Link,{to:"/settings",href:"#",as:l.b,children:Object(a.jsxs)("span",{children:[Object(a.jsx)(re.a,{})," Asetukset"]})}),Object(a.jsx)(te.a.Link,{onClick:function(t){t.preventDefault(),e((window.localStorage.removeItem("loggedPyryUser"),{type:"LOGOUT_USER"}))},href:"#",children:Object(a.jsxs)("span",{children:[Object(a.jsx)(ce.a,{})," Kirjaudu ulos "]})})]})})]})})},ie={signup:function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/api/users",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},le=function(){var e=Object(i.b)(),t=z("text"),n=z("email"),r=z("password"),c=z("password"),s=function(){var a=Object(d.a)(j.a.mark((function a(s){var i;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s.preventDefault(),r!==c&&e(L("Sy\xf6tt\xe4m\xe4si salasanat eiv\xe4t vastaa toisiaan.")),i={username:t.value,email:n.value,password:r.value},a.prev=3,a.next=6,ie.signup(i);case 6:e(P("Tervetuloa Pyryn k\xe4ytt\xe4j\xe4ksi ".concat(t.value,"!"))),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(3),e(L("Virhe rekister\xf6itymisess\xe4. Tarkista antamasi tiedot."));case 12:case"end":return a.stop()}}),a,null,[[3,9]])})));return function(e){return a.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(l.b,{to:"/",href:"#",as:l.b,children:Object(a.jsx)("h1",{children:"Pyry"})}),Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsxs)("div",{className:"card p-5",children:[Object(a.jsx)(W.a,{onSubmit:s,children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"email",children:"S\xe4hk\xf6posti"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{id:"email"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"username",children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},t),{},{id:"username"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"password",children:"Salasana"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},r),{},{id:"password"})),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",htmlFor:"password",children:"Salasana uudelleen"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},c),{},{id:"passwordCheck"})),Object(a.jsx)("div",{className:"row justify-content-end mt-3 px-3 pt-3",children:Object(a.jsx)(G.a,{type:"submit",children:"Rekister\xf6idy"})})]})}),Object(a.jsx)("div",{className:"mb-4 row justify-content-center",children:Object(a.jsxs)("span",{children:["Onko sinulla jo tunnus?",Object(a.jsx)(l.b,{to:"/",href:"#",children:" Kirjaudu"})]})})]})})]})},oe=n(493),ue=function(){var e=Object(i.c)((function(e){return e.user})).user,t=z("text"),n=z("text"),r=z("text"),c=z("text"),s=z("text"),l=function(){var a=Object(d.a)(j.a.mark((function a(i){var l;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return i.preventDefault(),a.next=3,g.updateUserInfo({id:e.id,name:t.value,company:n.value,yTunnus:r.value,address:c.value,phone:s.value});case 3:l=a.sent,console.log({updatedUser:l});case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("h2",{children:[Object(a.jsx)(oe.a,{size:40})," K\xe4ytt\xe4j\xe4setukset "]}),Object(a.jsx)("div",{className:"p-4",children:Object(a.jsx)(W.a,{onSubmit:l,className:"",children:Object(a.jsxs)(W.a.Group,{className:"input-group-lg",children:[Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",children:"K\xe4ytt\xe4j\xe4tunnus"}),Object(a.jsx)(W.a.Control,{disabled:!0,className:"",placeholder:e.username}),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",children:"S\xe4hk\xf6posti"}),Object(a.jsx)(W.a.Control,{disabled:!0,className:"",placeholder:e.email}),Object(a.jsx)(W.a.Label,{className:"small mb-2 mt-2",children:"Nimi"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},t),{},{className:"",placeholder:e.name?e.name:"Nimesi"})),Object(a.jsx)(W.a.Label,{className:"small mt-2",children:"Yritys"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},n),{},{className:"",placeholder:e.company?e.company:"Yrityksen nimi"})),Object(a.jsx)(W.a.Label,{className:"small mt-2",children:"Y-tunnus"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},r),{},{className:"",placeholder:e.yTunnus?e.yTunnus:"Y-tunnus"})),Object(a.jsx)(W.a.Label,{className:"small mt-2",children:"Puhelin"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},s),{},{className:"",placeholder:e.phone?e.phone:"Puhelin"})),Object(a.jsx)(W.a.Label,{className:"small mt-2",children:"Osoite"}),Object(a.jsx)(W.a.Control,Object(K.a)(Object(K.a)({},c),{},{className:"",placeholder:e.address?e.address:"Osoite"})),Object(a.jsx)("div",{className:"row justify-content-end mt-3 px-3 pt-3",children:Object(a.jsx)(G.a,{type:"submit",children:"Tallenna"})})]})})})]})},je=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.user})),n=t.user,c=t.loading;return Object(r.useEffect)((function(){!function(){try{var t=window.localStorage.getItem("loggedPyryUser");if(t){var n=JSON.parse(t);e((a=n.id,function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.getUserInfo(a);case 2:n=e.sent,t({type:"SET_USER",data:{user:n,loading:!1}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),v.setToken(n.token),F.setToken(n.token)}}catch(r){e(L("Kirjautuminen ep\xe4onnistui.")),console.error(r.message)}var a}()}),[e]),Object(r.useEffect)((function(){!function(){if(n)try{e(function(){var e=Object(d.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.getAllClients();case 2:n=e.sent,t({type:"INIT_CLIENTS",data:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){L("Asiakkaiden nouto ep\xe4onnistui."),console.error(t.message)}}()}),[n,e]),n?n&&!c?Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(se,{}),Object(a.jsx)(U,{}),Object(a.jsx)(_,{}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/hours",children:Object(a.jsx)(V,{})}),Object(a.jsx)(o.a,{path:"/clients",children:Object(a.jsx)(Z,{})}),Object(a.jsx)(o.a,{path:"/invoices",children:Object(a.jsx)(q,{})}),Object(a.jsx)(o.a,{path:"/login",children:Object(a.jsx)(Q,{})}),Object(a.jsx)(o.a,{path:"/settings",children:Object(a.jsx)(ue,{})}),Object(a.jsx)(o.a,{path:"/",children:Object(a.jsx)($,{})})]})]})}):void 0:Object(a.jsx)("div",{className:"container",children:Object(a.jsxs)(l.a,{children:[Object(a.jsx)(U,{}),Object(a.jsx)(_,{}),Object(a.jsxs)(o.c,{children:[Object(a.jsx)(o.a,{path:"/signup",children:Object(a.jsx)(le,{})}),Object(a.jsx)(o.a,{path:"/",children:Object(a.jsx)(Q,{})})]})]})})},de=n(97),be=n(270),he=Object(de.c)({user:C,clients:y,work:H,notification:D,error:S}),Oe=Object(de.d)(he,Object(de.a)(be.a));s.a.render(Object(a.jsx)(i.a,{store:Oe,children:Object(a.jsx)(je,{})}),document.getElementById("root"))}},[[485,1,2]]]);
//# sourceMappingURL=main.083a2033.chunk.js.map